CREATE TABLE MONAN (
    MAMONAN VARCHAR2(5) PRIMARY KEY,
    TENMONAN NVARCHAR2(50) NOT NULL,
    LOAI NVARCHAR2(50) NOT NULL,
    GIATIEN NUMBER NOT NULL
);

-- Tạo bảng khách hàng
CREATE TABLE KHACHHANG (
    MAKH VARCHAR2(5) PRIMARY KEY,
    TENKH NVARCHAR2(50) NOT NULL,
    SDT VARCHAR2(10) UNIQUE,
    DIACHI NVARCHAR2(50) NOT NULL,
    DIEMTL NUMBER DEFAULT 0
);

-- Tạo bảng voucher
CREATE TABLE VOUCHER (
    MAGG VARCHAR2(5) PRIMARY KEY,
    SOTIEN NUMBER
);

-- Bảng trung gian giữa KHACHHANG và VOUCHER
CREATE TABLE KH_VOUCHER (
    MAKH VARCHAR2(5),
    MAGG VARCHAR2(5),
    CONSTRAINT KH_VOUCHER_PK PRIMARY KEY (MAKH, MAGG),
    CONSTRAINT FK_KH_VOUCHER_KH FOREIGN KEY (MAKH) REFERENCES KHACHHANG(MAKH),
    CONSTRAINT FK_KH_VOUCHER_VOUCHER FOREIGN KEY (MAGG) REFERENCES VOUCHER(MAGG)
);

-- Tạo bảng tài xế
CREATE TABLE TAIXE (
    MATX VARCHAR2(5) PRIMARY KEY,
    TENTX NVARCHAR2(50) NOT NULL,
    SDT VARCHAR2(10) UNIQUE,
    MADVVC VARCHAR2(5) NOT NULL
);

-- Tạo bảng đơn vị vận chuyển
CREATE TABLE DONVIVC (
    MADVVC VARCHAR2(5) PRIMARY KEY,
    TENDV NVARCHAR2(50) NOT NULL
);

-- Tạo bảng đơn giao hàng
CREATE TABLE DON_DELIVERY (
    MADH VARCHAR2(5) PRIMARY KEY,
    MAKH VARCHAR2(5) NOT NULL,
    MATX VARCHAR2(5) NOT NULL,
    THANHTIEN NUMBER NOT NULL,
    HINHTHUCTT VARCHAR2(5) NOT NULL,
    CONSTRAINT FK_DON_DELIVERY_KH FOREIGN KEY (MAKH) REFERENCES KHACHHANG(MAKH),
    CONSTRAINT FK_DON_DELIVERY_TX FOREIGN KEY (MATX) REFERENCES TAIXE(MATX)
);

-- Tạo bảng đơn ăn tại chỗ
CREATE TABLE DON_DINEIN (
    MADH VARCHAR2(5) PRIMARY KEY,
    MAKH VARCHAR2(5) NOT NULL,
    SOBAN NUMBER,
    THANHTIEN NUMBER NOT NULL,
    HINHTHUCTT VARCHAR2(5) NOT NULL,
    CONSTRAINT FK_DON_DINEIN_KH FOREIGN KEY (MAKH) REFERENCES KHACHHANG(MAKH)
);

-- Tạo bảng hóa đơn chi tiết giao hàng
CREATE TABLE HOADONCHITIET_DELI (
    MADH VARCHAR2(5),
    MAMONAN VARCHAR2(5),
    SOLUONG NUMBER DEFAULT 1 NOT NULL,
    CONSTRAINT HDDELI_PK PRIMARY KEY (MADH, MAMONAN),
    CONSTRAINT FK_HDDELI_DON_DELIVERY FOREIGN KEY (MADH) REFERENCES DON_DELIVERY(MADH),
    CONSTRAINT FK_HDDELI_MONAN FOREIGN KEY (MAMONAN) REFERENCES MONAN(MAMONAN)
);

-- Tạo bảng hóa đơn chi tiết ăn tại chỗ
CREATE TABLE HOADONCHITIET_DINEIN (
    MADH VARCHAR2(5),
    MAMONAN VARCHAR2(5),
    SOLUONG NUMBER DEFAULT 1 NOT NULL,
    CONSTRAINT HDDINEIN_PK PRIMARY KEY (MADH, MAMONAN),
    CONSTRAINT FK_HDDINEIN_DON_DINEIN FOREIGN KEY (MADH) REFERENCES DON_DINEIN(MADH),
    CONSTRAINT FK_HDDINEIN_MONAN FOREIGN KEY (MAMONAN) REFERENCES MONAN(MAMONAN)
);

INSERT INTO MONAN VALUES ('M001', N'Phở bò', N'Phở', 50000);
INSERT INTO MONAN VALUES ('M002', N'Bánh mì', N'Bánh', 20000);
INSERT INTO MONAN VALUES ('M003', N'Cơm tấm', N'Cơm', 40000);
INSERT INTO MONAN VALUES ('M004', N'Bún chả', N'Bún', 45000);
INSERT INTO MONAN VALUES ('M005', N'Bún bò', N'Bún', 48000);
INSERT INTO MONAN VALUES ('M006', N'Hủ tiếu', N'Hủ tiếu', 42000);
INSERT INTO MONAN VALUES ('M007', N'Bánh cuốn', N'Bánh', 35000);
INSERT INTO MONAN VALUES ('M008', N'Bánh xèo', N'Bánh', 55000);
INSERT INTO MONAN VALUES ('M009', N'Bánh canh', N'Bánh', 40000);
INSERT INTO MONAN VALUES ('M010', N'Gỏi cuốn', N'Gỏi', 30000);
INSERT INTO MONAN VALUES ('M011', N'Chả cá', N'Chả', 60000);
INSERT INTO MONAN VALUES ('M012', N'Cơm chiên', N'Cơm', 50000);
INSERT INTO MONAN VALUES ('M013', N'Bún riêu', N'Bún', 47000);
--Select *from MONAN

INSERT INTO KHACHHANG VALUES ('KH001', N'Nguyễn Văn A', '0912345678', N'Hà Nội', 100);
INSERT INTO KHACHHANG VALUES ('KH002', N'Trần Thị B', '0987654321', N'Sài Gòn', 200);
INSERT INTO KHACHHANG VALUES ('KH003', N'Phạm Văn E', '0911111111', N'Đà Nẵng', 50);
INSERT INTO KHACHHANG VALUES ('KH004', N'Lê Thị F', '0922222222', N'Hải Phòng', 70);
INSERT INTO KHACHHANG VALUES ('KH005', N'Đỗ Minh G', '0933333333', N'Bình Dương', 120);
INSERT INTO KHACHHANG VALUES ('KH006', N'Vũ Thị H', '0944444444', N'Cần Thơ', 40);
INSERT INTO KHACHHANG VALUES ('KH007', N'Nguyễn Thị I', '0955555555', N'Huế', 90);
INSERT INTO KHACHHANG VALUES ('KH008', N'Lê Văn K', '0966666666', N'Biên Hòa', 80);
INSERT INTO KHACHHANG VALUES ('KH009', N'Trần Hoài L', '0977777777', N'Buôn Ma Thuột', 65);
INSERT INTO KHACHHANG VALUES ('KH010', N'Phan Thị M', '0988888888', N'Vũng Tàu', 110);
INSERT INTO KHACHHANG VALUES ('KH011', N'Hoàng Văn N', '0999999999', N'Nha Trang', 30);
INSERT INTO KHACHHANG VALUES ('KH012', N'Lý Thị O', '0900000000', N'Quảng Ninh', 100);
--Select *from KHACHHANG

INSERT INTO VOUCHER VALUES ('VC001', 50000);
INSERT INTO VOUCHER VALUES ('VC002', 100000);
INSERT INTO VOUCHER VALUES ('VC003', 30000);
INSERT INTO VOUCHER VALUES ('VC004', 70000);
INSERT INTO VOUCHER VALUES ('VC005', 20000);
INSERT INTO VOUCHER VALUES ('VC006', 80000);
INSERT INTO VOUCHER VALUES ('VC007', 120000);
INSERT INTO VOUCHER VALUES ('VC008', 150000);
INSERT INTO VOUCHER VALUES ('VC009', 75000);
INSERT INTO VOUCHER VALUES ('VC010', 65000);
INSERT INTO VOUCHER VALUES ('VC011', 95000);
INSERT INTO VOUCHER VALUES ('VC012', 85000);
--Select *from VOUCHER

-- Thêm dữ liệu vào bảng KH_VOUCHER
INSERT INTO KH_VOUCHER VALUES ('KH001', 'VC001');
INSERT INTO KH_VOUCHER VALUES ('KH002', 'VC002');
INSERT INTO KH_VOUCHER VALUES ('KH003', 'VC003');
INSERT INTO KH_VOUCHER VALUES ('KH004', 'VC004');
INSERT INTO KH_VOUCHER VALUES ('KH005', 'VC005');
INSERT INTO KH_VOUCHER VALUES ('KH006', 'VC006');
INSERT INTO KH_VOUCHER VALUES ('KH007', 'VC007');
INSERT INTO KH_VOUCHER VALUES ('KH008', 'VC008');
INSERT INTO KH_VOUCHER VALUES ('KH009', 'VC009');
INSERT INTO KH_VOUCHER VALUES ('KH010', 'VC010');
INSERT INTO KH_VOUCHER VALUES ('KH011', 'VC011');
INSERT INTO KH_VOUCHER VALUES ('KH012', 'VC012');
--Select *from KH_VOUCHER

-- Thêm dữ liệu vào bảng DONVIVC
INSERT INTO DONVIVC VALUES ('DV001', N'Grab');
INSERT INTO DONVIVC VALUES ('DV002', N'Gojek');
INSERT INTO DONVIVC VALUES ('DV003', N'Be');
INSERT INTO DONVIVC VALUES ('DV004', N'Viettel Post');
INSERT INTO DONVIVC VALUES ('DV005', N'Now');
INSERT INTO DONVIVC VALUES ('DV006', N'AhaMove');
INSERT INTO DONVIVC VALUES ('DV007', N'Baemin');
--Select *from DONVIVC

-- Thêm dữ liệu vào bảng TAIXE
INSERT INTO TAIXE VALUES ('TX001', N'Ngô Văn C', '0901234567', 'DV001');
INSERT INTO TAIXE VALUES ('TX002', N'Lê Minh D', '0909876543', 'DV002');
INSERT INTO TAIXE VALUES ('TX003', N'Nguyễn Văn P', '0911222333', 'DV003');
INSERT INTO TAIXE VALUES ('TX004', N'Phạm Thị Q', '0912333444', 'DV004');
INSERT INTO TAIXE VALUES ('TX005', N'Lê Thanh R', '0913444555', 'DV005');
INSERT INTO TAIXE VALUES ('TX006', N'Hà Minh S', '0914555666', 'DV006');
INSERT INTO TAIXE VALUES ('TX007', N'Đặng Thị T', '0915666777', 'DV007');
--Select *from TAIXE

-- Thêm dữ liệu vào bảng DON_DELIVERY
INSERT INTO DON_DELIVERY VALUES ('DH001', 'KH001', 'TX001', 70000, 'CASH');
INSERT INTO DON_DELIVERY VALUES ('DH002', 'KH002', 'TX002', 40000, 'CARD');
INSERT INTO DON_DELIVERY VALUES ('DH003', 'KH003', 'TX003', 93000, 'CASH');
INSERT INTO DON_DELIVERY VALUES ('DH004', 'KH004', 'TX004', 77000, 'CARD');
INSERT INTO DON_DELIVERY VALUES ('DH005', 'KH005', 'TX005', 95000, 'CASH');
INSERT INTO DON_DELIVERY VALUES ('DH006', 'KH006', 'TX006', 90000, 'CARD');
INSERT INTO DON_DELIVERY VALUES ('DH007', 'KH007', 'TX007', 97000, 'CASH');
INSERT INTO DON_DELIVERY VALUES ('DH008', 'KH008', 'TX003', 93000, 'CASH');
INSERT INTO DON_DELIVERY VALUES ('DH009', 'KH009', 'TX004', 77000, 'CARD');
INSERT INTO DON_DELIVERY VALUES ('DH010', 'KH010', 'TX005', 125000, 'CASH');
INSERT INTO DON_DELIVERY VALUES ('DH011', 'KH011', 'TX006', 157000, 'CARD');
INSERT INTO DON_DELIVERY VALUES ('DH012', 'KH012', 'TX007', 172000, 'CASH');
--Select *from DON_DELIVERY

-- Thêm dữ liệu vào bảng DON_DINEIN
INSERT INTO DON_DINEIN VALUES ('DI001', 'KH001', 5, 90000, 'CASH');
INSERT INTO DON_DINEIN VALUES ('DI002', 'KH002', 10, 20000, 'CARD');
INSERT INTO DON_DINEIN VALUES ('DI003', 'KH003', 15, 93000, 'CASH');
INSERT INTO DON_DINEIN VALUES ('DI004', 'KH004', 12, 77000, 'CARD');
INSERT INTO DON_DINEIN VALUES ('DI005', 'KH005', 7, 95000, 'CASH');
INSERT INTO DON_DINEIN VALUES ('DI006', 'KH006', 6, 90000, 'CARD');
INSERT INTO DON_DINEIN VALUES ('DI007', 'KH007', 8, 97000, 'CASH');
INSERT INTO DON_DINEIN VALUES ('DI008', 'KH008', 3, 132000, 'CARD');
INSERT INTO DON_DINEIN VALUES ('DI009', 'KH009', 9, 70000, 'CASH');
INSERT INTO DON_DINEIN VALUES ('DI010', 'KH010', 11, 60000, 'CARD');
INSERT INTO DON_DINEIN VALUES ('DI011', 'KH011', 2, 40000, 'CASH');
INSERT INTO DON_DINEIN VALUES ('DI012', 'KH012', 4, 187000, 'CARD');
--Select *from DON_DINEIN

-- Thêm dữ liệu vào bảng HOADONCHITIET_DELI
INSERT INTO HOADONCHITIET_DELI VALUES ('DH001', 'M001',1);
INSERT INTO HOADONCHITIET_DELI VALUES ('DH001', 'M002',1);
INSERT INTO HOADONCHITIET_DELI VALUES ('DH002', 'M003',1);
INSERT INTO HOADONCHITIET_DELI VALUES ('DH003', 'M004',1);
INSERT INTO HOADONCHITIET_DELI VALUES ('DH003', 'M005',1);
INSERT INTO HOADONCHITIET_DELI VALUES ('DH004', 'M006',1);
INSERT INTO HOADONCHITIET_DELI VALUES ('DH004', 'M007',1);
INSERT INTO HOADONCHITIET_DELI VALUES ('DH005', 'M008',1);
INSERT INTO HOADONCHITIET_DELI VALUES ('DH005', 'M009',1);
INSERT INTO HOADONCHITIET_DELI VALUES ('DH006', 'M010',1);
INSERT INTO HOADONCHITIET_DELI VALUES ('DH006', 'M011',1);
INSERT INTO HOADONCHITIET_DELI VALUES ('DH007', 'M012',1);
INSERT INTO HOADONCHITIET_DELI VALUES ('DH007', 'M013',1);
INSERT INTO HOADONCHITIET_DELI VALUES ('DH008', 'M004',1);
INSERT INTO HOADONCHITIET_DELI VALUES ('DH008', 'M005',1);
INSERT INTO HOADONCHITIET_DELI VALUES ('DH009', 'M006',1);
INSERT INTO HOADONCHITIET_DELI VALUES ('DH009', 'M007',1);
INSERT INTO HOADONCHITIET_DELI VALUES ('DH010', 'M008',1);
INSERT INTO HOADONCHITIET_DELI VALUES ('DH010', 'M009',1);
INSERT INTO HOADONCHITIET_DELI VALUES ('DH010', 'M010',1);
INSERT INTO HOADONCHITIET_DELI VALUES ('DH011', 'M011',1);
INSERT INTO HOADONCHITIET_DELI VALUES ('DH011', 'M012',1);
INSERT INTO HOADONCHITIET_DELI VALUES ('DH011', 'M013',1);
INSERT INTO HOADONCHITIET_DELI VALUES ('DH012', 'M006',1);
INSERT INTO HOADONCHITIET_DELI VALUES ('DH012', 'M007',1);
INSERT INTO HOADONCHITIET_DELI VALUES ('DH012', 'M008',1);
INSERT INTO HOADONCHITIET_DELI VALUES ('DH012', 'M009',1);
--Select *from HOADONCHITIET_DELI

-- Thêm dữ liệu vào bảng HOADONCHITIET_DINEIN
INSERT INTO HOADONCHITIET_DINEIN VALUES ('DI001', 'M001',1);
INSERT INTO HOADONCHITIET_DINEIN VALUES ('DI001', 'M003',1);
INSERT INTO HOADONCHITIET_DINEIN VALUES ('DI002', 'M002',1);
INSERT INTO HOADONCHITIET_DINEIN VALUES ('DI003', 'M004',1);
INSERT INTO HOADONCHITIET_DINEIN VALUES ('DI003', 'M005',1);
INSERT INTO HOADONCHITIET_DINEIN VALUES ('DI004', 'M006',1);
INSERT INTO HOADONCHITIET_DINEIN VALUES ('DI004', 'M007',1);
INSERT INTO HOADONCHITIET_DINEIN VALUES ('DI005', 'M008',1);
INSERT INTO HOADONCHITIET_DINEIN VALUES ('DI005', 'M009',1);
INSERT INTO HOADONCHITIET_DINEIN VALUES ('DI006', 'M010',1);
INSERT INTO HOADONCHITIET_DINEIN VALUES ('DI006', 'M011',1);
INSERT INTO HOADONCHITIET_DINEIN VALUES ('DI007', 'M012',1);
INSERT INTO HOADONCHITIET_DINEIN VALUES ('DI007', 'M013',1);
INSERT INTO HOADONCHITIET_DINEIN VALUES ('DI008', 'M006',1);
INSERT INTO HOADONCHITIET_DINEIN VALUES ('DI008', 'M007',1);
INSERT INTO HOADONCHITIET_DINEIN VALUES ('DI008', 'M008',1);
INSERT INTO HOADONCHITIET_DINEIN VALUES ('DI009', 'M009',1);
INSERT INTO HOADONCHITIET_DINEIN VALUES ('DI009', 'M010',1);
INSERT INTO HOADONCHITIET_DINEIN VALUES ('DI010', 'M011',1);
INSERT INTO HOADONCHITIET_DINEIN VALUES ('DI011', 'M009',1);
INSERT INTO HOADONCHITIET_DINEIN VALUES ('DI012', 'M010',1);
INSERT INTO HOADONCHITIET_DINEIN VALUES ('DI012', 'M011',1);
INSERT INTO HOADONCHITIET_DINEIN VALUES ('DI012', 'M012',1);
INSERT INTO HOADONCHITIET_DINEIN VALUES ('DI012', 'M013',1);

-- Select * FROM MONAN;--các mon an va thong tin ve mon an
-- SELECT * FROM KHACHHANG;--cac thong tin khach hang, diem tich luy
-- SELECT * FROM VOUCHER;-- ma voucher voi gia tri
-- SELECT * FROM KH_VOUCHER;-- ket noi ma khach hang voi ma voucher, khach nao cung co
-- SELECT * FROM TAIXE;-- thong tin tai xe kem MADVVC
-- SELECT * FROM DON_DELIVERY;-- gom ma don hang, ma khach hang, ma tai xe, tong gia don, hinh thuc thanh toan
-- SELECT * FROM DON_DINEIN;-- gom ma don hang, ma khach hang, so ban, tong gia don, hinh thuc thanh toan
-- SELECT * FROM HOADONCHITIET_DELI;--madon+mamon
-- SELECT * FROM HOADONCHITIET_DINEIN;--tuong tu






